{% extends 'main/base.html' %}
{% load static %}


{% block content %}
    <div class="cart_section">
        <div class="main-banner" id="top">
            <div class="message">
                {% for message in messages %}
                <p>{{ message }}</p>
                {% endfor %}
        <div class="container-fluid" style="margin-top: 150px;">
            <div class="row">

                {% if cart_items %}
                <div class="col-lg-10 offset-lg-1">
                    <div class="cart_container">
                        <div class="cart_title">Shopping Cart<small> {{ cart_items.count }} items in your cart </small></div>                  
                        <div class="cart_items">
                            <ul class="cart_list">
                                {% for cart_item in cart_items %}
                                <li class="cart_item clearfix">
                                    <div class="cart_item_image"><img src="{{ cart_item.product.image.url }}" alt=""></div>
                                    <div class="cart_item_info d-flex flex-md-row flex-column justify-content-between">
                                        <div class="cart_item_name cart_info_col">
                                            <div class="cart_item_title">Name</div>
                                            <div class="cart_item_text">{{ cart_item.product.name }}</div>
                                        </div>
                                        <div class="cart_item_color cart_info_col">
                                            <div class="cart_item_title">Color</div>
                                            <div class="cart_item_text"><span style="background-color:#999999;"></span>Silver</div>
                                        </div>
                                        <div class="cart_item_quantity cart_info_col">
                                            <div class="cart_item_title">Quantity</div>
                                            <div class="cart_item_buttons">
                                                <a href="{% url 'item_increment' cart_item.product.id %}">+</a>
                                            </div>
                                            <div class="cart_item_text">{{ cart_item.quantity }}</div>
                                            <div class="cart_item_buttons">
                                                <a href="{% url 'item_decrement' cart_item.product.id %}">-</a>
                                            </div>
                                        </div>
                                        <div class="cart_item_price cart_info_col">
                                            <div class="cart_item_title">Price</div>
                                            <div class="cart_item_text">${{ cart_item.product.price }}</div>
                                        </div>
                                        <div class="cart_item_total cart_info_col">
                                            <div class="cart_item_title">Total</div>
                                            <div class="cart_item_text">${{ cart_item.get_total_item_price }}</div>
                                            <a href="{% url 'item_clear' cart_item.product.id %}" class="remove_btn">Remove Item</a> 
                                        </div>
                                    </div>
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                        <div class="order_total">
                            <div class="order_total_content text-md-right">
                                <div class="order_total_title">Order Total:${{ total_price }}</div>
                            </div>
                        </div>
                        <div class="cart_buttons">
                            <button type="button" class="button cart_button_clear">Continue Shopping</button>
                            <a href="{% url 'checkout' %}" class="button cart_button_checkout">Check Out</a>                        <a href="{% url 'cart_clear' %}" class="remove_btn">Remove Cart</a> 
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
 
    























